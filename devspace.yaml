version: v2beta1
name: home-assistant
dev:
  ha-config:
    namespace: iot
    labelSelector:
      app.kubernetes.io/name: home-assistant
    container: home-assistant
    sync:
      - path: ./config:/config
        excludePaths:
          - .bash_history
          - .bootstrapped
          - .cache/
          - .cloud/
          - .config/
          - .devspace/
          - .git/
          - .ha_run.lock
          - .HA_VERSION
          - .storage/
          - deps/
          - home-assistant_v2.db*
          - home-assistant.log*
          - lost+found/
          - secrets.yaml # Managed by Kubernetes secrets
          - tts/
        initialSync: preferNewest
    terminal:
      enabled: false
